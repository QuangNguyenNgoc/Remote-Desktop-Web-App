@* Remote Screen Tab Component - Displays live screen stream with capture controls *@

<div class="remote-screen-tab">
    <!-- Screen Container - Fixed max dimensions -->
    <div class="screen-container-wrapper">
        <!-- Screen Container -->
        <div class="screen-container">
            <!-- Live Indicator -->
            <div class="live-indicator">
                <span class="live-dot"></span>
                <span class="live-text">LIVE STREAM</span>
            </div>

            <!-- Status Text -->
            <div class="status-indicator">
                <span class="status-text">Live Stream Active</span>
            </div>

            <!-- Screen Display Area -->
            <div class="screen-display">
                <img src="/computer-desktop-screenshot-with-applications.jpg" 
                     alt="Remote Desktop Screen" 
                     class="screen-image" />
            </div>
        </div>

        <!-- Action Toolbar -->
        <div class="action-toolbar-container">
            <div class="action-toolbar">
                <!-- Capture Screen -->
                <button class="action-btn action-btn-blue" @onclick="CaptureScreen">
                    <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                              d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"/>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                              d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                    <span>Capture Screen</span>
                </button>

                <!-- Save to Device -->
                <button class="action-btn action-btn-green" @onclick="SaveToDevice">
                    <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                              d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/>
                    </svg>
                    <span>Save to Device</span>
                </button>

                <!-- Copy to Clipboard -->
                <button class="action-btn action-btn-purple" @onclick="CopyImage">
                    <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                              d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                    </svg>
                    <span>Copy Image</span>
                </button>

                <!-- Refresh Stream -->
                <button class="action-btn action-btn-orange" @onclick="RefreshStream">
                    <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                              d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                    </svg>
                    <span>Refresh</span>
                </button>

                <!-- Divider -->
                <div class="toolbar-divider"></div>

                <!-- Icon-only buttons -->
                <button class="icon-btn" title="Fullscreen" @onclick="ToggleFullscreen">
                    <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                              d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"/>
                    </svg>
                </button>

                <button class="icon-btn" title="Zoom In" @onclick="ZoomIn">
                    <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                              d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"/>
                    </svg>
                </button>

                <button class="icon-btn" title="Zoom Out" @onclick="ZoomOut">
                    <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                              d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"/>
                    </svg>
                </button>
            </div>

            <!-- Info Bar -->
            <div class="info-bar">
                <span>Resolution: @Resolution</span>
                <span>FPS: @Fps</span>
                <span>Latency: @Latency</span>
                <span>Connected: @ConnectedTime</span>
            </div>
        </div>
    </div>
</div>

@code {
    // Screen information properties
    private string Resolution { get; set; } = "1920x1080";
    private int Fps { get; set; } = 30;
    private string Latency { get; set; } = "45ms";
    private string ConnectedTime { get; set; } = "00:15:32";

    // Action methods
    private void CaptureScreen()
    {
        // TODO: Implement screen capture logic
        Console.WriteLine("[RemoteScreen] Capture screen requested");
    }

    private void SaveToDevice()
    {
        // TODO: Implement save to device logic
        Console.WriteLine("[RemoteScreen] Save to device requested");
    }

    private void CopyImage()
    {
        // TODO: Implement copy to clipboard logic
        Console.WriteLine("[RemoteScreen] Copy image requested");
    }

    private void RefreshStream()
    {
        // TODO: Implement stream refresh logic
        Console.WriteLine("[RemoteScreen] Refresh stream requested");
    }

    private void ToggleFullscreen()
    {
        // TODO: Implement fullscreen toggle logic
        Console.WriteLine("[RemoteScreen] Toggle fullscreen requested");
    }

    private void ZoomIn()
    {
        // TODO: Implement zoom in logic
        Console.WriteLine("[RemoteScreen] Zoom in requested");
    }

    private void ZoomOut()
    {
        // TODO: Implement zoom out logic
        Console.WriteLine("[RemoteScreen] Zoom out requested");
    }
}

<style>
    .remote-screen-tab {
        padding: 1.5rem;
        min-height: 500px;
        background-color: var(--card);
    }

    .screen-container-wrapper {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1rem;
    }

    /* Screen Container - Fixed max dimensions */
    .screen-container {
        position: relative;
        width: 100%;
        max-width: 56rem; /* max-w-4xl */
        background-color: #000;
        border-radius: 0.5rem;
        overflow: hidden;
        border: 2px solid var(--border);
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
    }

    /* Live Indicator */
    .live-indicator {
        position: absolute;
        top: 0.75rem;
        left: 0.75rem;
        z-index: 10;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        background-color: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(4px);
        padding: 0.375rem 0.75rem;
        border-radius: 9999px;
        border: 1px solid rgba(239, 68, 68, 0.3);
    }

    .live-dot {
        width: 0.5rem;
        height: 0.5rem;
        border-radius: 9999px;
        background-color: #ef4444;
        animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        box-shadow: 0 0 8px rgba(239, 68, 68, 0.8);
    }

    .live-text {
        font-size: 0.75rem;
        font-weight: 700;
        color: white;
        letter-spacing: 0.05em;
    }

    /* Status Indicator */
    .status-indicator {
        position: absolute;
        top: 0.75rem;
        right: 0.75rem;
        z-index: 10;
        background-color: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(4px);
        padding: 0.375rem 0.75rem;
        border-radius: 9999px;
        border: 1px solid rgba(34, 197, 94, 0.3);
    }

    .status-text {
        font-size: 0.75rem;
        font-weight: 500;
        color: #4ade80;
    }

    /* Screen Display Area */
    .screen-display {
        aspect-ratio: 16 / 9;
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(to bottom right, #1f2937, #000, #1f2937);
    }

    .screen-image {
        width: 100%;
        height: 100%;
        object-fit: contain;
    }

    /* Action Toolbar */
    .action-toolbar-container {
        width: 100%;
        max-width: 56rem;
    }

    .action-toolbar {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        justify-content: center;
        gap: 0.75rem;
        padding: 1rem;
        background-color: var(--muted);
        opacity: 0.5;
        border-radius: 0.5rem;
        border: 1px solid var(--border);
    }

    /* Action Buttons */
    .action-btn {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.625rem 1rem;
        border-radius: 0.5rem;
        font-size: 0.875rem;
        font-weight: 500;
        transition: all 0.2s;
        border: none;
        cursor: pointer;
        color: white;
    }

    .action-btn:hover {
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
        transform: scale(1.05);
    }

    .action-btn:active {
        transform: scale(0.95);
    }

    .action-btn-blue {
        background-color: #2563eb;
    }

    .action-btn-blue:hover {
        background-color: #1d4ed8;
    }

    .action-btn-green {
        background-color: #16a34a;
    }

    .action-btn-green:hover {
        background-color: #15803d;
    }

    .action-btn-purple {
        background-color: #9333ea;
    }

    .action-btn-purple:hover {
        background-color: #7e22ce;
    }

    .action-btn-orange {
        background-color: #ea580c;
    }

    .action-btn-orange:hover {
        background-color: #c2410c;
    }

    .btn-icon {
        width: 1rem;
        height: 1rem;
    }

    /* Toolbar Divider */
    .toolbar-divider {
        height: 2rem;
        width: 1px;
        background-color: var(--border);
        margin: 0 0.5rem;
    }

    /* Icon-only buttons */
    .icon-btn {
        padding: 0.625rem;
        background-color: var(--card);
        border: 1px solid var(--border);
        border-radius: 0.5rem;
        transition: all 0.2s;
        cursor: pointer;
        color: var(--foreground);
    }

    .icon-btn:hover {
        background-color: var(--muted);
        transform: scale(1.1);
    }

    .icon-btn:active {
        transform: scale(0.95);
    }

    /* Info Bar */
    .info-bar {
        margin-top: 0.75rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
        font-size: 0.75rem;
        color: var(--muted-foreground);
        padding: 0 0.5rem;
    }

    @keyframes pulse {
        0%, 100% {
            opacity: 1;
        }
        50% {
            opacity: 0.5;
        }
    }

    /* Responsive adjustments */
    @@media (max-width: 768px) {
        .action-toolbar {
            flex-direction: column;
        }

        .info-bar {
            flex-direction: column;
            gap: 0.25rem;
        }
    }
</style>
