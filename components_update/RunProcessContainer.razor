@* Run Process Container Component *@

<div class="p-6 border-b border-border bg-muted/30">
    <div class="max-w-4xl mx-auto">
        <h3 class="text-sm font-semibold text-foreground uppercase tracking-wide mb-4">Run Process</h3>
        
        <div class="flex flex-col md:flex-row gap-3">
            <!-- Process Name Input -->
            <div class="flex-1">
                <input
                    type="text"
                    @bind="ProcessName"
                    placeholder="Process name (e.g., notepad.exe)"
                    class="w-full px-4 py-2.5 bg-card border border-border rounded-lg text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                />
            </div>

            <!-- Arguments Input -->
            <div class="flex-1">
                <input
                    type="text"
                    @bind="ProcessArgs"
                    placeholder="Arguments (optional)"
                    class="w-full px-4 py-2.5 bg-card border border-border rounded-lg text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                />
            </div>

            <!-- Run Button -->
            <button
                @onclick="HandleRunProcess"
                class="px-6 py-2.5 bg-green-600 hover:bg-green-700 text-white rounded-lg text-sm font-medium transition-all hover:shadow-lg hover:scale-105 active:scale-95 flex items-center gap-2 whitespace-nowrap">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                Run Process
            </button>
        </div>

        <!-- Quick Launch Buttons -->
        <div class="mt-3 flex flex-wrap gap-2">
            <span class="text-xs text-muted-foreground mr-2 self-center">Quick Launch:</span>
            <button
                @onclick="@(() => ProcessName = "notepad.exe")"
                class="px-3 py-1 bg-card hover:bg-muted border border-border rounded text-xs font-medium text-foreground transition-colors">
                Notepad
            </button>
            <button
                @onclick="@(() => ProcessName = "cmd.exe")"
                class="px-3 py-1 bg-card hover:bg-muted border border-border rounded text-xs font-medium text-foreground transition-colors">
                CMD
            </button>
            <button
                @onclick="@(() => ProcessName = "powershell.exe")"
                class="px-3 py-1 bg-card hover:bg-muted border border-border rounded text-xs font-medium text-foreground transition-colors">
                PowerShell
            </button>
            <button
                @onclick="@(() => ProcessName = "taskmgr.exe")"
                class="px-3 py-1 bg-card hover:bg-muted border border-border rounded text-xs font-medium text-foreground transition-colors">
                Task Manager
            </button>
        </div>
    </div>
</div>

@code {
    private string ProcessName { get; set; } = string.Empty;
    private string ProcessArgs { get; set; } = string.Empty;

    private void HandleRunProcess()
    {
        if (string.IsNullOrWhiteSpace(ProcessName))
        {
            // Show validation error
            return;
        }

        // TODO: Implement your process execution logic here
        // Example: await ProcessService.RunProcessAsync(ProcessName, ProcessArgs);
        
        Console.WriteLine($"Running process: {ProcessName} with args: {ProcessArgs}");
        
        // Clear inputs after execution
        ProcessName = string.Empty;
        ProcessArgs = string.Empty;
        
        StateHasChanged();
    }
}

<style>
    /* Scoped styles for this component */
    .border-border {
        border-color: var(--border);
    }

    .bg-card {
        background-color: var(--card);
    }

    .bg-muted {
        background-color: var(--muted);
    }

    .bg-muted\/30 {
        background-color: rgba(var(--muted-rgb), 0.3);
    }

    .text-foreground {
        color: var(--foreground);
    }

    .text-muted-foreground {
        color: var(--muted-foreground);
    }

    input:focus {
        outline: none;
    }
</style>
