@using RemoteControl.Web.Components.Pages.DeviceFeatures

<div class="rounded-xl overflow-hidden" style="background-color: var(--card-bg); border: 1px solid var(--card-border);">
    <!-- Tab Header - Horizontal scrollable on small screens -->
    <div class="flex overflow-x-auto tab-scroll-container" style="border-bottom: 1px solid var(--card-border);">
        <!-- Remote Screen Tab -->
        <button @onclick="() => activeTab = TabType.RemoteScreen" 
                class="px-6 py-4 font-medium text-sm flex items-center gap-2 @(activeTab == TabType.RemoteScreen ? "" : "hover-theme")" 
                style="@GetTabStyle(TabType.RemoteScreen)">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z">
                </path>
            </svg>
            Remote Screen
        </button>

        <!-- Task Manager Tab -->
        <button @onclick="() => activeTab = TabType.TaskManager" 
                class="px-6 py-4 font-medium text-sm flex items-center gap-2 @(activeTab == TabType.TaskManager ? "" : "hover-theme")" 
                style="@GetTabStyle(TabType.TaskManager)">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 002 2h2a2 2 0 002-2z">
                </path>
            </svg>
            Task Manager
        </button>

        <!-- System Monitor Tab -->
        <button @onclick="() => activeTab = TabType.SystemMonitor" 
                class="px-6 py-4 font-medium text-sm flex items-center gap-2 @(activeTab == TabType.SystemMonitor ? "" : "hover-theme")" 
                style="@GetTabStyle(TabType.SystemMonitor)">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z">
                </path>
            </svg>
            System Monitor
        </button>

        <!-- Keylogger Tab -->
        <button @onclick="() => activeTab = TabType.Keylogger" 
                class="px-6 py-4 font-medium text-sm flex items-center gap-2 @(activeTab == TabType.Keylogger ? "" : "hover-theme")" 
                style="@GetTabStyle(TabType.Keylogger)">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z">
                </path>
            </svg>
            Keylogger
        </button>

        <!-- Webcam Tab -->
        <button @onclick="() => activeTab = TabType.Webcam" 
                class="px-6 py-4 font-medium text-sm flex items-center gap-2 @(activeTab == TabType.Webcam ? "" : "hover-theme")" 
                style="@GetTabStyle(TabType.Webcam)">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z">
                </path>
            </svg>
            Webcam
        </button>

        <!-- Registry Tab -->
        <button @onclick="() => activeTab = TabType.Registry" 
                class="px-6 py-4 font-medium text-sm flex items-center gap-2 @(activeTab == TabType.Registry ? "" : "hover-theme")" 
                style="@GetTabStyle(TabType.Registry)">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4">
                </path>
            </svg>
            Registry
        </button>

        <!-- Power Tab -->
        <button @onclick="() => activeTab = TabType.Power" 
                class="px-6 py-4 font-medium text-sm flex items-center gap-2 @(activeTab == TabType.Power ? "" : "hover-theme")" 
                style="@GetTabStyle(TabType.Power)">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M13 10V3L4 14h7v7l9-11h-7z">
                </path>
            </svg>
            Power
        </button>
    </div>

    <!-- Tab Content -->
    @switch (activeTab)
    {
        case TabType.RemoteScreen:
            <RemoteScreenTab />
            break;

        case TabType.TaskManager:
            <TaskManagerTab />
            break;

        case TabType.SystemMonitor:
            <SystemMonitorTab />
            break;

        case TabType.Keylogger:
            <KeyloggerTab />
            break;

        case TabType.Webcam:
            <WebcamTab />
            break;

        case TabType.Registry:
            <RegistryTab />
            break;

        case TabType.Power:
            <PowerTab />
            break;
    }
</div>

@code {
    enum TabType { RemoteScreen, TaskManager, SystemMonitor, Keylogger, Webcam, Registry, Power }
    TabType activeTab = TabType.RemoteScreen;

    string GetTabStyle(TabType tab)
    {
        if (activeTab == tab)
        {
            return "color: var(--btn-primary-bg); border-bottom: 2px solid var(--btn-primary-bg); background-color: rgba(37, 99, 235, 0.1);";
        }
        return "color: var(--text-tertiary);";
    }
}

<style>
    /* Custom scrollbar for tab header */
    .tab-scroll-container {
        scrollbar-width: thin;
        scrollbar-color: rgba(100, 116, 139, 0.5) transparent;
    }

    .tab-scroll-container::-webkit-scrollbar {
        height: 6px;
    }

    .tab-scroll-container::-webkit-scrollbar-track {
        background: transparent;
    }

    .tab-scroll-container::-webkit-scrollbar-thumb {
        background: rgba(100, 116, 139, 0.5);
        border-radius: 3px;
    }

    .tab-scroll-container::-webkit-scrollbar-thumb:hover {
        background: rgba(100, 116, 139, 0.7);
    }
</style>
